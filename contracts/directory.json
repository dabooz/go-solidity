{"info":{"language":"Solidity","languageVersion":"0.3.1","abiDefinition":[{"inputs":[],"type":"function","constant":false,"name":"kill","outputs":[]},{"inputs":[{"type":"string","name":"_entry_name"},{"type":"uint256","name":"_version"}],"type":"function","constant":true,"name":"get_entry_by_version","outputs":[{"type":"address","name":"r"}]},{"inputs":[{"type":"string","name":"_entry_name"},{"type":"address","name":"_address"},{"type":"uint256","name":"_version"}],"type":"function","constant":false,"name":"add_entry","outputs":[{"type":"uint256","name":"r"}]},{"inputs":[{"type":"string","name":"_entry_name"},{"type":"uint256","name":"_version"}],"type":"function","constant":false,"name":"delete_entry","outputs":[{"type":"bool","name":"r"}]},{"inputs":[{"type":"string","name":"_entry_name"}],"type":"function","constant":true,"name":"get_entry","outputs":[{"type":"address","name":"r"}]},{"inputs":[],"type":"constructor","constant":false,"name":"","outputs":null},{"inputs":[{"type":"uint256","name":"_eventcode"},{"type":"address","name":"_adder"},{"type":"uint256","name":"version"},{"type":"address","name":"_contract"},{"type":"string","name":"_name"}],"type":"event","constant":false,"name":"AddEntry","outputs":null},{"inputs":[{"type":"uint256","name":"_eventcode"},{"type":"address","name":"_deleter"},{"type":"uint256","name":"version"},{"type":"address","name":"_contract"},{"type":"string","name":"_name"}],"type":"event","constant":false,"name":"DeleteEntry","outputs":null}],"compilerVersion":"0.3.1","developerDoc":{"methods":{}},"userDoc":{"methods":{}},"source":"contract directory {address owner;struct entry {address contract_addr;address contract_owner;}mapping (string =\u003e version) names;struct version {mapping (uint =\u003e entry) versions;}enum event_codes {add_entry_event_code,delete_entry_event_code}event AddEntry(uint indexed _eventcode, address indexed _adder, uint indexed version, address indexed _contract, string _name) anonymous;event DeleteEntry(uint indexed _eventcode, address indexed _deleter, uint indexed version, address indexed _contract, string _name) anonymous;function directory() {owner = msg.sender;}function add_entry(string _entry_name, address _address, uint _version) returns (uint r) {if (bytes(_entry_name).length == 0 || _address == address(0)) {return 1;}var addr = names[_entry_name].versions[_version].contract_addr;if (addr == address(0)) {names[_entry_name].versions[_version] = entry({contract_addr:_address,contract_owner:tx.origin});AddEntry(uint(event_codes.add_entry_event_code), tx.origin, _version, _address, _entry_name);return 0;} else {return 2;}}function get_entry(string _entry_name) constant returns (address r) {return names[_entry_name].versions[0].contract_addr;}function get_entry_by_version(string _entry_name, uint _version) constant returns (address r) {return names[_entry_name].versions[_version].contract_addr;}function delete_entry(string _entry_name, uint _version) returns (bool r) {var e = names[_entry_name].versions[_version];if (e.contract_owner == tx.origin \u0026\u0026 e.contract_addr != address(0)) {DeleteEntry(uint(event_codes.delete_entry_event_code), tx.origin, _version, e.contract_addr, _entry_name);delete names[_entry_name].versions[_version];return true;} else {return false;}}function kill() {if (msg.sender == owner) suicide(owner);}}"},"code":"0x606060405260008054600160a060020a0319163317905561067f806100246000396000f3606060405260e060020a600035046341c0e1b58114610047578063441f9c881461006f578063660fa1801461012a5780636852f22c1461019a578063dc10d706146103b3575b005b61004560005433600160a060020a039081169116141561067d57600054600160a060020a0316ff5b60206004803580820135601f81018490049093026080908101604052606084815261046c94602493919291840191819083828082843750949650509335935050505060405182516000916001918591908190608090808381848a60046003600f6020601f8701040201f1509050019150509081526020016040518091039020600050600001600050600083815260200190815260200160002060005060000160009054906101000a9004600160a060020a0316905092915050565b60206004803580820135601f81018490049093026080908101604052606084815261048b946024939192918401918190838280828437509496505093359350506044359150506000600084516000148061018c5750600160a060020a03841681145b1561049d5760019150610675565b60206004803580820135601f81018490049093026080908101604052606084815261048b9460249391929184019181908382808284375094965050933593505050506040518251600091829160019186918190608090808381848a60046003600f6020601f8701040201f15090500191505090815260200160405180910390206000506000016000506000848152602001908152602001600020600050905032600160a060020a03168160010160009054906101000a9004600160a060020a0316600160a060020a031614801561027b57508054600160a060020a03168214155b156103ac578060000160009054906101000a9004600160a060020a0316600160a060020a03168332600160a060020a031660018760405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f16801561030f5780820380516001836020036101000a031916815260200191505b509250505060405180910390a4604051845160019186918190608090808381848b60046020601f850104600f02600301f1509050019150509081526020016040518091039020600050600001600050600084815260200190815260200160002060006000820160006101000a815490600160a060020a0302191690556001820160006101000a815490600160a060020a0302191690555050600191505b5092915050565b60206004803580820135601f81018490049093026080908101604052606084815261046c9460249391929184019181908382808284375094965050505050505060405181516000916001918491908190608090808381848a60046003600f6020601f8701040201f150905001915050908152602001604051809103902060005060000160005060006000815260200190815260200160002060005060000160009054906101000a9004600160a060020a03169050919050565b6040518082600160a060020a0316815260200191505060405180910390f35b60408051918252519081900360200190f35b604051855160019187918190608090808381848a60046003600f6020601f8701040201f1509050019150509081526020016040518091039020600050600001600050600084815260200190815260200160002060005060000160009054906101000a9004600160a060020a031690506000600160a060020a031681600160a060020a031614156106705760406040519081016040528085815260200132815260200150600160005086604051808280519060200190808383829060006004602084601f0104600f02600301f1509050019150509081526020016040518091039020600050600001600050600085815260200190815260200160002060005060008201518160000160006101000a815481600160a060020a030219169083021790555060208201518160010160006101000a815481600160a060020a030219169083021790555090505083600160a060020a03168332600160a060020a031660008860405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f16801561065e5780820380516001836020036101000a031916815260200191505b509250505060405180910390a4610675565b600291505b509392505050565b56"}